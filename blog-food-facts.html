<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="with=device-width, initial-scale=1.0">
    <title>Food Safety Myths Debunked | RescueMark Blog</title>
    <link rel="stylesheet" href="style-darkgold.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <section class="subheader">
        <nav>
            <a href="index.html"><img src="images/goldlogo.png"></a>
            <div class="nav-links" id="navLinks">
                <i class="fa fa-times" onclick="hideMenu()"></i>
                <ul>
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="about the app.html">THE APP</a></li>
                    <li class="active"><a href="blogRM.html">BLOG</a></li>
                    <li><a href="contactRM.html">CONTACT</a></li>
                    <li><a href="donateRM.html">DONATE</a></li>
                    <li><a href="FAQs.html">FAQS</a></li>
                </ul>
            </div>
            <i class="fa fa-bars" onclick="showMenu()"></i>
        </nav>
        <h1>Food Safety Myths Debunked</h1>
    </section>

    <section class="blog">
        <div class="row">
            <div class="blog-left">
                <img src="images/foodsafety1.jpg" alt="Food Safety">
                <p><small>Posted on July 8, 2024</small></p>
                
                <h2>Separating Fact from Fiction in Your Kitchen</h2>
                <p>There's a lot of misinformation floating around about food safety. Let's clear up some common myths so you can cook and eat with confidence.</p>

                <h3>Myth 1: "The 5-Second Rule"</h3>
                <p><strong>Truth:</strong> Bacteria can transfer to food instantly upon contact with contaminated surfaces. The "5-second rule" is a myth - if food drops on the floor, it's best to discard it, especially if the surface isn't clean.</p>

                <h3>Myth 2: "You Can Tell if Food is Bad by Smell"</h3>
                <p><strong>Truth:</strong> Not all harmful bacteria produce bad odors. Some dangerous pathogens like Salmonella and E. coli are odorless. Always follow expiration dates and storage guidelines rather than relying on smell alone.</p>

                <h3>Myth 3: "Washing Raw Chicken Kills Bacteria"</h3>
                <p><strong>Truth:</strong> Washing raw chicken can actually spread bacteria around your kitchen through water splatter. Cooking chicken to the proper temperature (74Â°C) is what actually kills harmful bacteria.</p>

                <h3>Myth 4: "Expiration Dates are Exact"</h3>
                <p><strong>Truth:</strong> "Best before" dates indicate quality, not safety. Many foods are perfectly safe to eat after this date if stored properly. Use your senses - look, smell, and taste - to determine if food is still good.</p>

                <h3>Myth 5: "Hot Food Should Cool Before Refrigerating"</h3>
                <p><strong>Truth:</strong> Modern refrigerators can handle hot food. In fact, it's safer to refrigerate food within 2 hours of cooking to prevent bacterial growth. Divide large portions into smaller containers for faster cooling.</p>

                <h3>Smart Food Safety with RescueMark</h3>
                <p>Our app helps you make informed decisions about near-expiry foods. We provide storage tips and recipe suggestions to ensure you use food safely while reducing waste.</p>

                <div class="comment-box">
                    <h3>Share Your Food Safety Questions!</h3>
                    <form class="comment-form" id="commentForm">
                        <input type="text" name="commentName" placeholder="Enter Name" required>
                        <input type="email" name="commentEmail" placeholder="Email" required>
                        <textarea name="commentText" rows="5" placeholder="Your food safety questions or tips..." required></textarea>
                        <button type="submit" class="hero-btn green-btn">POST COMMENT</button>
                    </form>

                    <div class="comments-display" id="commentsDisplay">
                        <div class="loading-comments">Loading comments...</div>
                    </div>
                </div>
            </div>

            <div class="blog-right">
                <h3>More Blog Posts</h3>
                <div class="recent-posts">
                    <a href="blogRM.html" class="post-preview">
                        <h4>Recipes Using Near-Expiry Ingredients</h4>
                        <p>Turn soon-to-expire food into delicious meals...</p>
                        <small>Read More â†’</small>
                    </a>
                    
                    <a href="blog-easy-recipes.html" class="post-preview">
                        <h4>5-Minute Meals for Busy Weeknights</h4>
                        <p>Quick and delicious recipes when you're short on time...</p>
                        <small>Read More â†’</small>
                    </a>
                    
                    <a href="blog-budget-tips.html" class="post-preview">
                        <h4>Meal Planning on a Budget</h4>
                        <p>How to stretch your grocery budget while eating well...</p>
                        <small>Read More â†’</small>
                    </a>
                    
                    <a href="blog-sustainability.html" class="post-preview">
                        <h4>Reducing Food Waste at Home</h4>
                        <p>Simple tips to minimize waste and save money...</p>
                        <small>Read More â†’</small>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Add your modal and footer here -->
    <div id="confirm-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <p>Are you sure you want to delete this comment?</p>
            <div class="modal-buttons">
                <button id="confirm-yes" class="hero-btn green-btn">Yes, Delete</button>
                <button id="confirm-no" class="hero-btn" style="background:#fff;border:2px solid #D4AF37;color:#b8932e;">Cancel</button>
            </div>
        </div>
    </div>

    <section class="footer">
        <h4>About Us</h4>
        <p>RescueMark is a Gauteng-based platform helping reduce food waste by connecting people with affordable, surplus food. 
            <br>We support local businesses while making everyday essentials more accessible.
            <br>Together, we're building a more sustainable and food-secure future.</p>
        <div class="icons">
            <i class="fa-brands fa-instagram"></i>
            <i class="fa-brands fa-tiktok"></i>
            <i class="fa-brands fa-linkedin-in"></i>
            <i class="fa-brands fa-whatsapp"></i>
        </div>
        <p>Made with <i class="fa-regular fa-heart"></i> by Analytic Aces</p>
    </section>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top" aria-label="Back to top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- JavaScript -->
    <script src="script.js"></script>
    
    <!-- Firebase Comments for this specific post -->
    <script type="module">
      // Same Firebase comments code as blogRM.html but with different postId
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import { getFirestore, collection, addDoc, deleteDoc, doc, onSnapshot, orderBy, query, serverTimestamp, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyAqrzl1t9Ltsg5svDyWaTV7yKnFvHfMM8o",
        authDomain: "rescuemark-blog-comments.firebaseapp.com",
        projectId: "rescuemark-blog-comments",
        storageBucket: "rescuemark-blog-comments.firebasestorage.app",
        messagingSenderId: "522498051085",
        appId: "1:522498051085:web:a6b1ec8e76098d130f9944"
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
      
      // Each post has unique comments by using the page name as postId
      const currentPostId = 'food-facts-safety-myths';

       emailjs.init("QPhdOZQufzjykyAq8");

  function getUserId() {
    let userId = localStorage.getItem('rm_user_id');
    if (!userId) {
      userId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
      localStorage.setItem('rm_user_id', userId);
    }
    return userId;
  }

  const currentUserId = getUserId();

  document.addEventListener('DOMContentLoaded', function() {
    const commentForm = document.getElementById('commentForm');
    const commentsDisplay = document.getElementById('commentsDisplay');
    const modal = document.getElementById('confirm-modal');
    const confirmYes = document.getElementById('confirm-yes');
    const confirmNo = document.getElementById('confirm-no');
    
    let commentToDelete = null;

    // Load comments function
    const loadComments = () => {
      const q = query(collection(db, "comments"), orderBy("timestamp", "desc"));
      
      onSnapshot(q, (snapshot) => {
        commentsDisplay.innerHTML = '';
        
        if (snapshot.empty) {
          commentsDisplay.innerHTML = '<p>No comments yet. Be the first to comment!</p>';
          return;
        }
        
        snapshot.forEach((doc) => {
          const comment = doc.data();
          const isMyComment = comment.userId === currentUserId;
          
          const commentEl = document.createElement('div');
          commentEl.className = 'single-comment';
          commentEl.id = 'comment-' + doc.id;
          commentEl.innerHTML = `
            <h4>${escapeHtml(comment.name)}</h4>
            <p>${escapeHtml(comment.text)}</p>
            <small>${comment.timestamp ? new Date(comment.timestamp.toDate()).toLocaleString() : 'Recently'}</small>
            ${isMyComment ? '<button class="delete-comment" data-doc-id="' + doc.id + '">Delete</button>' : ''}
          `;
          
          commentsDisplay.appendChild(commentEl);

          if (isMyComment) {
            const deleteBtn = commentEl.querySelector('.delete-comment');
            deleteBtn.addEventListener('click', function() {
              commentToDelete = this.getAttribute('data-doc-id');
              modal.style.display = 'flex';
            });
          }
        });
        
        scrollToComment();
      }, (error) => {
        console.error('Error loading comments:', error);
        commentsDisplay.innerHTML = '<p>Error loading comments. Please refresh.</p>';
      });
    };

    function scrollToComment() {
      const hash = window.location.hash;
      if (hash && hash.startsWith('#comment-')) {
        const commentElement = document.querySelector(hash);
        if (commentElement) {
          setTimeout(() => {
            commentElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            commentElement.style.backgroundColor = '#fff8e1';
            commentElement.style.transition = 'background-color 0.5s ease';
            setTimeout(() => {
              commentElement.style.backgroundColor = '';
            }, 3000);
          }, 500);
        }
      }
    }

    // UPDATED: Submit comment with email notification
    commentForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const name = commentForm.commentName.value.trim();
      const email = commentForm.commentEmail.value.trim();
      const text = commentForm.commentText.value.trim();
      
      if (!name || !email || !text) {
        alert('Please fill in all fields.');
        return;
      }
      
      const submitBtn = commentForm.querySelector('button');
      const originalText = submitBtn.textContent;
      
      try {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Posting...';
        
        // Add comment to Firestore
        const docRef = await addDoc(collection(db, "comments"), {
          name: name,
          email: email,
          text: text,
          userId: currentUserId,
          timestamp: serverTimestamp()
        });
        
        const commentId = docRef.id;
        const commentLink = `${window.location.origin}${window.location.pathname}#comment-${commentId}`;
        
        console.log('ðŸ“ Comment posted with ID:', commentId);
        console.log('ðŸ”— Comment link:', commentLink);
        
        // UPDATED: Send email notification with DEBUGGING
        console.log('ðŸ“§ Attempting to send email...');
        console.log('EmailJS Config:', {
          serviceId: 'service_qn9px3t',
          templateId: 'template_zvz8l5j',
          publicKey: 'QPhdOZQufzjykyAq8'
        });
        
        try {
          const emailResult = await emailjs.send('service_qn9px3t', 'template_zvz8l5j', {
            to_name: name,
            to_email: email,
            comment_text: text,
            comment_link: commentLink,
            website_name: 'RescueMark Blog',
            post_title: 'Quick, Tasty & Waste-Free Meals'
          });
          
          console.log('âœ… Email sent successfully!', emailResult);
          console.log('Status:', emailResult.status);
          console.log('Text:', emailResult.text);
          
        } catch (emailError) {
          console.error('âŒ EmailJS Error:', emailError);
          console.log('Error status:', emailError.status);
          console.log('Error text:', emailError.text);
          // Don't show alert for email failure - comment still posted
        }
        
        commentForm.reset();
        alert('âœ… Comment posted successfully! Check your email for a confirmation with your comment link.');
        
      } catch (error) {
        console.error('âŒ Error posting comment:', error);
        alert('âŒ Error posting comment: ' + error.message);
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
      }
    });

    // Modal handlers
    confirmYes.addEventListener('click', async () => {
      if (commentToDelete) {
        try {
          await deleteDoc(doc(db, "comments", commentToDelete));
          console.log('ðŸ—‘ï¸ Comment deleted');
          modal.style.display = 'none';
          commentToDelete = null;
          alert('Comment deleted successfully!');
        } catch (error) {
          console.error('Delete error:', error);
          alert('âŒ Error deleting comment: ' + error.message);
        }
      }
    });

    confirmNo.addEventListener('click', () => {
      modal.style.display = 'none';
      commentToDelete = null;
    });

    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.style.display = 'none';
        commentToDelete = null;
      }
    });

    // Load comments on page load
    loadComments();
    
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }
  });
</script>

<script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js" defer></script>
<script src="https://files.bpcontent.cloud/2025/07/29/13/20250729133757-HL6WZY3E.js" defer></script>

</body>
</html>